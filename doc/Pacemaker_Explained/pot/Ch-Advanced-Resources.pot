# 
# AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: 0\n"
"POT-Creation-Date: 2018-05-14 18:03-0500\n"
"PO-Revision-Date: 2018-05-14 18:03-0500\n"
"Last-Translator: Automatically generated\n"
"Language-Team: None\n"
"MIME-Version: 1.0\n"
"Content-Type: application/x-publican; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: title
#, no-c-format
msgid "Advanced Resource Types"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Groups - A Syntactic Shortcut"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<indexterm> <primary>Group Resources</primary> </indexterm> <indexterm> <primary>Resource</primary><secondary>Groups</secondary> </indexterm> <indexterm> <primary>Groups</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "One of the most common elements of a cluster is a set of resources that need to be located together, start sequentially, and stop in the reverse order. To simplify this configuration, we support the concept of groups."
msgstr ""

#. Tag: title
#, no-c-format
msgid "A group of two primitive resources"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "&lt;group id=\"shortcut\"&gt;\n"
"   &lt;primitive id=\"Public-IP\" class=\"ocf\" type=\"IPaddr\" provider=\"heartbeat\"&gt;\n"
"    &lt;instance_attributes id=\"params-public-ip\"&gt;\n"
"       &lt;nvpair id=\"public-ip-addr\" name=\"ip\" value=\"192.0.2.2\"/&gt;\n"
"    &lt;/instance_attributes&gt;\n"
"   &lt;/primitive&gt;\n"
"   &lt;primitive id=\"Email\" class=\"lsb\" type=\"exim\"/&gt;\n"
"&lt;/group&gt;"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Although the example above contains only two resources, there is no limit to the number of resources a group can contain. The example is also sufficient to explain the fundamental properties of a group:"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources are started in the order they appear in (<literal>Public-IP</literal> first, then <literal>Email</literal>)"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources are stopped in the reverse order to which they appear in (<literal>Email</literal> first, then <literal>Public-IP</literal>)"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If a resource in the group can’t run anywhere, then nothing after that is allowed to run, too."
msgstr ""

#. Tag: para
#, no-c-format
msgid "If <literal>Public-IP</literal> can’t run anywhere, neither can <literal>Email</literal>;"
msgstr ""

#. Tag: para
#, no-c-format
msgid "but if <literal>Email</literal> can’t run anywhere, this does not affect <literal>Public-IP</literal> in any way"
msgstr ""

#. Tag: para
#, no-c-format
msgid "The group above is logically equivalent to writing:"
msgstr ""

#. Tag: title
#, no-c-format
msgid "How the cluster sees a group resource"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "&lt;configuration&gt;\n"
"   &lt;resources&gt;\n"
"    &lt;primitive id=\"Public-IP\" class=\"ocf\" type=\"IPaddr\" provider=\"heartbeat\"&gt;\n"
"     &lt;instance_attributes id=\"params-public-ip\"&gt;\n"
"        &lt;nvpair id=\"public-ip-addr\" name=\"ip\" value=\"192.0.2.2\"/&gt;\n"
"     &lt;/instance_attributes&gt;\n"
"    &lt;/primitive&gt;\n"
"    &lt;primitive id=\"Email\" class=\"lsb\" type=\"exim\"/&gt;\n"
"   &lt;/resources&gt;\n"
"   &lt;constraints&gt;\n"
"      &lt;rsc_colocation id=\"xxx\" rsc=\"Email\" with-rsc=\"Public-IP\" score=\"INFINITY\"/&gt;\n"
"      &lt;rsc_order id=\"yyy\" first=\"Public-IP\" then=\"Email\"/&gt;\n"
"   &lt;/constraints&gt;\n"
"&lt;/configuration&gt;"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Obviously as the group grows bigger, the reduced configuration effort can become significant."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Another (typical) example of a group is a DRBD volume, the filesystem mount, an IP address, and an application that uses them."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Group Properties"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Properties of a Group Resource"
msgstr ""

#. Tag: entry
#, no-c-format
msgid "Field"
msgstr ""

#. Tag: entry
#, no-c-format
msgid "Description"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>id</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A unique name for the group <indexterm> <primary>id</primary><secondary>Group Resource Property</secondary> </indexterm> <indexterm> <primary>Group Resource Property</primary> </indexterm> <indexterm> <primary>Resource</primary><secondary>Group Property</secondary><tertiary>id</tertiary> </indexterm> <indexterm> <primary>Group Property</primary><secondary>id</secondary> </indexterm> <indexterm> <primary>id</primary> </indexterm>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Group Options"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Groups inherit the <literal>priority</literal>, <literal>target-role</literal>, and <literal>is-managed</literal> properties from primitive resources. See <xref linkend=\"s-resource-options\" /> for information about those properties."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Group Instance Attributes"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Groups have no instance attributes. However, any that are set for the group object will be inherited by the group’s children."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Group Contents"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Groups may only contain a collection of cluster resources (see <xref linkend=\"primitive-resource\" />). To refer to a child of a group resource, just use the child’s <literal>id</literal> instead of the group’s."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Group Constraints"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Although it is possible to reference a group’s children in constraints, it is usually preferable to reference the group itself."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Some constraints involving groups"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "&lt;constraints&gt;\n"
"    &lt;rsc_location id=\"group-prefers-node1\" rsc=\"shortcut\" node=\"node1\" score=\"500\"/&gt;\n"
"    &lt;rsc_colocation id=\"webserver-with-group\" rsc=\"Webserver\" with-rsc=\"shortcut\"/&gt;\n"
"    &lt;rsc_order id=\"start-group-then-webserver\" first=\"Webserver\" then=\"shortcut\"/&gt;\n"
"&lt;/constraints&gt;"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Group Stickiness"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<indexterm> <primary>resource-stickiness</primary><secondary>Groups</secondary> </indexterm> <indexterm> <primary>Groups</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Stickiness, the measure of how much a resource wants to stay where it is, is additive in groups. Every active resource of the group will contribute its stickiness value to the group’s total. So if the default <literal>resource-stickiness</literal> is 100, and a group has seven members, five of which are active, then the group as a whole will prefer its current location with a score of 500."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Clones - Resources That Can Have Multiple Active Instances"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<indexterm> <primary>Clone Resources</primary> </indexterm> <indexterm> <primary>Resource</primary><secondary>Clones</secondary> </indexterm> <indexterm> <primary>Clones</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<emphasis>Clone</emphasis> resources are resources that can have more than one copy active at the same time. This allows you, for example, to run a copy of a daemon on every node. You can clone any primitive or group resource. <footnote><para> Of course, the service must support running multiple instances. </para></footnote>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Anonymous versus Unique Clones"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A clone resource is configured to be either <emphasis>anonymous</emphasis> or <emphasis>globally unique</emphasis>."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Anonymous clones are the simplest. These behave completely identically everywhere they are running. Because of this, there can be only one instance of an anonymous clone active per node."
msgstr ""

#. Tag: para
#, no-c-format
msgid "The instances of globally unique clones are distinct entities. All instances are launched identically, but one instance of the clone is not identical to any other instance, whether running on the same node or a different node. As an example, a cloned IP address can use special kernel functionality such that each instance handles a subset of requests for the same IP address."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Promotable clones"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<indexterm> <primary>Promotable Clone Resources</primary> </indexterm> <indexterm> <primary>Resource</primary><secondary>Promotable</secondary> </indexterm> <indexterm> <primary>Promotable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If a clone is <emphasis>promotable</emphasis>, its instances can perform a special role that Pacemaker will manage via the <literal>promote</literal> and <literal>demote</literal> actions of the resource agent."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Services that support such a special role have various terms for the special role and the default role: primary and secondary, master and replica, controller and worker, etc. Pacemaker uses the terms <emphasis>master</emphasis> and <emphasis>slave</emphasis>, <footnote><para> These are historical terms that will eventually be replaced, but the extensive use of them and the need for backward compatibility makes it a long process. You may see examples using a <literal>master</literal> tag instead of a <literal>clone</literal> tag with the <literal>promotable</literal> meta-attribute set to <literal>true</literal>; the <literal>master</literal> tag is supported, but deprecated, and will be removed in a future version. You may also see such services referred to as <emphasis>multi-state</emphasis> or <emphasis>stateful</emphasis>; these means the same thing as <emphasis>promotable</emphasis>. </para></footnote> but is agnostic to what the service calls them or what they do."
msgstr ""

#. Tag: para
#, no-c-format
msgid "All that Pacemaker cares about is that an instance comes up in the default role when started, and the resource agent supports the <literal>promote</literal> and <literal>demote</literal> actions to manage entering and exiting the special role."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Clone Properties"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Properties of a Clone Resource"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A unique name for the clone <indexterm> <primary>id</primary><secondary>Clone Property</secondary> </indexterm> <indexterm> <primary>Clone Property</primary> </indexterm> <indexterm> <primary>Clone</primary><secondary>Property</secondary><tertiary>id</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>id</secondary> </indexterm> <indexterm> <primary>id</primary> </indexterm>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Clone Options"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<link linkend=\"s-resource-options\">Options</link> inherited from primitive resources: <literal>priority, target-role, is-managed</literal>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Clone-specific configuration options"
msgstr ""

#. Tag: entry
#, no-c-format
msgid "Default"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>globally-unique</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "false"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If <literal>true</literal>, each clone instance performs a distinct function <indexterm> <primary>globally-unique</primary><secondary>Clone Option</secondary> </indexterm> <indexterm> <primary>Clone Option</primary> </indexterm> <indexterm> <primary>Clone</primary><secondary>Option</secondary><tertiary>globally-unique</tertiary> </indexterm> <indexterm> <primary>Option</primary><secondary>globally-unique</secondary> </indexterm> <indexterm> <primary>globally-unique</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>clone-max</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "number of nodes in cluster"
msgstr ""

#. Tag: para
#, no-c-format
msgid "The maximum number of clone instances that can be started across the entire cluster <indexterm> <primary>clone-max</primary><secondary>Clone Option</secondary> </indexterm> <indexterm> <primary>Clone Option</primary> </indexterm> <indexterm> <primary>Clone</primary><secondary>Option</secondary><tertiary>clone-max</tertiary> </indexterm> <indexterm> <primary>Option</primary><secondary>clone-max</secondary> </indexterm> <indexterm> <primary>clone-max</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>clone-node-max</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "1"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If <literal>globally-unique</literal> is <literal>true</literal>, the maximum number of clone instances that can be started on a single node <indexterm> <primary>clone-node-max</primary><secondary>Clone Option</secondary> </indexterm> <indexterm> <primary>Clone Option</primary> </indexterm> <indexterm> <primary>Clone</primary><secondary>Option</secondary><tertiary>clone-node-max</tertiary> </indexterm> <indexterm> <primary>Option</primary><secondary>clone-node-max</secondary> </indexterm> <indexterm> <primary>clone-node-max</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>clone-min</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "0"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Require at least this number of clone instances to be runnable before allowing resources depending on the clone to be runnable. A value of 0 means require all clone instances to be runnable. <indexterm> <primary>clone-min</primary><secondary>Clone Option</secondary> </indexterm> <indexterm> <primary>Clone Option</primary> </indexterm> <indexterm> <primary>Clone</primary><secondary>Option</secondary><tertiary>clone-min</tertiary> </indexterm> <indexterm> <primary>Option</primary><secondary>clone-min</secondary> </indexterm> <indexterm> <primary>clone-min</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>notify</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Call the resource agent’s <literal>notify</literal> action for all active instances, before and after starting or stopping any clone instance. The resource agent must support this action. Allowed values: <literal>false</literal>, <literal>true</literal> <indexterm> <primary>notify</primary><secondary>Clone Option</secondary> </indexterm> <indexterm> <primary>Clone Option</primary> </indexterm> <indexterm> <primary>Clone</primary><secondary>Option</secondary><tertiary>notify</tertiary> </indexterm> <indexterm> <primary>Option</primary><secondary>notify</secondary> </indexterm> <indexterm> <primary>notify</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>ordered</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If <literal>true</literal>, clone instances must be started sequentially instead of in parallel Allowed values: <literal>false</literal>, <literal>true</literal> <indexterm> <primary>ordered</primary><secondary>Clone Option</secondary> </indexterm> <indexterm> <primary>Clone Option</primary> </indexterm> <indexterm> <primary>Clone</primary><secondary>Option</secondary><tertiary>ordered</tertiary> </indexterm> <indexterm> <primary>Option</primary><secondary>ordered</secondary> </indexterm> <indexterm> <primary>ordered</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>interleave</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "When this clone is ordered relative to another clone, if this option is <literal>false</literal> (the default), the ordering is relative to <emphasis>all</emphasis> instances of the other clone, whereas if this option is <literal>true</literal>, the ordering is relative only to instances on the same node. Allowed values: <literal>false</literal>, <literal>true</literal> <indexterm> <primary>interleave</primary><secondary>Clone Option</secondary> </indexterm> <indexterm> <primary>Clone Option</primary> </indexterm> <indexterm> <primary>Clone</primary><secondary>Option</secondary><tertiary>interleave</tertiary> </indexterm> <indexterm> <primary>Option</primary><secondary>interleave</secondary> </indexterm> <indexterm> <primary>interleave</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>promotable</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If <literal>true</literal>, clone instances can perform a special role that Pacemaker will manage via the resource agent’s <literal>promote</literal> and <literal>demote</literal> actions. The resource agent must support these actions. Allowed values: <literal>false</literal>, <literal>true</literal> <indexterm> <primary>promotable</primary><secondary>Clone Option</secondary> </indexterm> <indexterm> <primary>Clone Option</primary> </indexterm> <indexterm> <primary>Clone</primary><secondary>Option</secondary><tertiary>promotable</tertiary> </indexterm> <indexterm> <primary>Option</primary><secondary>promotable</secondary> </indexterm> <indexterm> <primary>promotable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>promoted-max</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If <literal>promotable</literal> is <literal>true</literal>, the number of instances that can be promoted at one time across the entire cluster <indexterm> <primary>promoted-max</primary><secondary>Clone Option</secondary> </indexterm> <indexterm> <primary>Clone Option</primary> </indexterm> <indexterm> <primary>Clone</primary><secondary>Option</secondary><tertiary>promoted-max</tertiary> </indexterm> <indexterm> <primary>Option</primary><secondary>promoted-max</secondary> </indexterm> <indexterm> <primary>promoted-max</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>promoted-node-max</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If <literal>promotable</literal> is <literal>true</literal> and <literal>globally-unique</literal> is <literal>false</literal>, the number of clone instances can be promoted at one time on a single node <indexterm> <primary>promoted-node-max</primary><secondary>Clone Option</secondary> </indexterm> <indexterm> <primary>Clone Option</primary> </indexterm> <indexterm> <primary>Clone</primary><secondary>Option</secondary><tertiary>promoted-node-max</tertiary> </indexterm> <indexterm> <primary>Option</primary><secondary>promoted-node-max</secondary> </indexterm> <indexterm> <primary>promoted-node-max</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "For backward compatibility, <literal>master-max</literal> and <literal>master-node-max</literal> are accepted as aliases for <literal>promoted-max</literal> and <literal>promoted-node-max</literal>, but are deprecated since 2.0.0, and support for them will be removed in a future version."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Clone Contents"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Clones must contain exactly one primitive or group resource."
msgstr ""

#. Tag: title
#, no-c-format
msgid "A clone that runs a web server on all nodes"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "&lt;clone id=\"apache-clone\"&gt;\n"
"    &lt;primitive id=\"apache\" class=\"lsb\" type=\"apache\"&gt;\n"
"        &lt;operations&gt;\n"
"           &lt;op id=\"apache-monitor\" name=\"monitor\" interval=\"30\"/&gt;\n"
"        &lt;/operations&gt;\n"
"    &lt;/primitive&gt;\n"
"&lt;/clone&gt;"
msgstr ""

#. Tag: para
#, no-c-format
msgid "You should never reference the name of a clone’s child (the primitive or group resource being cloned). If you think you need to do this, you probably need to re-evaluate your design."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Clone Instance Attributes"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Clones have no instance attributes; however, any that are set here will be inherited by the clone’s child."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Clone Constraints"
msgstr ""

#. Tag: para
#, no-c-format
msgid "In most cases, a clone will have a single instance on each active cluster node. If this is not the case, you can indicate which nodes the cluster should preferentially assign copies to with resource location constraints. These constraints are written no differently from those for primitive resources except that the clone’s <literal>id</literal> is used."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Some constraints involving clones"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "&lt;constraints&gt;\n"
"    &lt;rsc_location id=\"clone-prefers-node1\" rsc=\"apache-clone\" node=\"node1\" score=\"500\"/&gt;\n"
"    &lt;rsc_colocation id=\"stats-with-clone\" rsc=\"apache-stats\" with=\"apache-clone\"/&gt;\n"
"    &lt;rsc_order id=\"start-clone-then-stats\" first=\"apache-clone\" then=\"apache-stats\"/&gt;\n"
"&lt;/constraints&gt;"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Ordering constraints behave slightly differently for clones. In the example above, <literal>apache-stats</literal> will wait until all copies of <literal>apache-clone</literal> that need to be started have done so before being started itself. Only if <emphasis>no</emphasis> copies can be started will <literal>apache-stats</literal> be prevented from being active. Additionally, the clone will wait for <literal>apache-stats</literal> to be stopped before stopping itself."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Colocation of a primitive or group resource with a clone means that the resource can run on any node with an active instance of the clone. The cluster will choose an instance based on where the clone is running and the resource’s own location preferences."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Colocation between clones is also possible. If one clone <literal>A</literal> is colocated with another clone <literal>B</literal>, the set of allowed locations for <literal>A</literal> is limited to nodes on which <literal>B</literal> is (or will be) active. Placement is then performed normally."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Promotable Clone Constraints"
msgstr ""

#. Tag: para
#, no-c-format
msgid "For promotable clone resources, the <literal>first-action</literal> and/or <literal>then-action</literal> fields for ordering constraints may be set to <literal>promote</literal> or <literal>demote</literal> to constrain the master role, and colocation constraints may contain <literal>rsc-role</literal> and/or <literal>with-rsc-role</literal> fields."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Additional colocation constraint options for promotable clone resources"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>rsc-role</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Started"
msgstr ""

#. Tag: para
#, no-c-format
msgid "An additional attribute of colocation constraints that specifies the role that <literal>rsc</literal> must be in. Allowed values: <literal>Started</literal>, <literal>Master</literal>, <literal>Slave</literal>. <indexterm> <primary>rsc-role</primary><secondary>Ordering Constraints</secondary> </indexterm> <indexterm> <primary>Ordering Constraints</primary> </indexterm> <indexterm> <primary>Constraints</primary><secondary>Ordering</secondary><tertiary>rsc-role</tertiary> </indexterm> <indexterm> <primary>Ordering</primary><secondary>rsc-role</secondary> </indexterm> <indexterm> <primary>rsc-role</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>with-rsc-role</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "An additional attribute of colocation constraints that specifies the role that <literal>with-rsc</literal> must be in. Allowed values: <literal>Started</literal>, <literal>Master</literal>, <literal>Slave</literal>. <indexterm> <primary>with-rsc-role</primary><secondary>Ordering Constraints</secondary> </indexterm> <indexterm> <primary>Ordering Constraints</primary> </indexterm> <indexterm> <primary>Constraints</primary><secondary>Ordering</secondary><tertiary>with-rsc-role</tertiary> </indexterm> <indexterm> <primary>Ordering</primary><secondary>with-rsc-role</secondary> </indexterm> <indexterm> <primary>with-rsc-role</primary> </indexterm>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Constraints involving promotable clone resources"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "&lt;constraints&gt;\n"
"   &lt;rsc_location id=\"db-prefers-node1\" rsc=\"database\" node=\"node1\" score=\"500\"/&gt;\n"
"   &lt;rsc_colocation id=\"backup-with-db-slave\" rsc=\"backup\"\n"
"     with-rsc=\"database\" with-rsc-role=\"Slave\"/&gt;\n"
"   &lt;rsc_colocation id=\"myapp-with-db-master\" rsc=\"myApp\"\n"
"     with-rsc=\"database\" with-rsc-role=\"Master\"/&gt;\n"
"   &lt;rsc_order id=\"start-db-before-backup\" first=\"database\" then=\"backup\"/&gt;\n"
"   &lt;rsc_order id=\"promote-db-then-app\" first=\"database\" first-action=\"promote\"\n"
"     then=\"myApp\" then-action=\"start\"/&gt;\n"
"&lt;/constraints&gt;"
msgstr ""

#. Tag: para
#, no-c-format
msgid "In the example above, <literal>myApp</literal> will wait until one of the database copies has been started and promoted to master before being started itself on the same node. Only if no copies can be promoted will <literal>myApp</literal> be prevented from being active. Additionally, the cluster will wait for <literal>myApp</literal> to be stopped before demoting the database."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Colocation of a primitive or group resource with a promotable clone resource means that it can run on any node with an active instance of the promotable clone resource that has the specified role (<literal>master</literal> or <literal>slave</literal>). In the example above, the cluster will choose a location based on where database is running as a <literal>master</literal>, and if there are multiple <literal>master</literal> instances it will also factor in <literal>myApp</literal>'s own location preferences when deciding which location to choose."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Colocation with regular clones and other promotable clone resources is also possible. In such cases, the set of allowed locations for the <literal>rsc</literal> clone is (after role filtering) limited to nodes on which the <literal>with-rsc</literal> promotable clone resource is (or will be) in the specified role. Placement is then performed as normal."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Using Promotable Clone Resources in Colocation Sets"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Additional colocation set options relevant to promotable clone resources"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>role</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "The role that <emphasis>all members</emphasis> of the set must be in. Allowed values: <literal>Started</literal>, <literal>Master</literal>, <literal>Slave</literal>. <indexterm> <primary>role</primary><secondary>Ordering Constraints</secondary> </indexterm> <indexterm> <primary>Ordering Constraints</primary> </indexterm> <indexterm> <primary>Constraints</primary><secondary>Ordering</secondary><tertiary>role</tertiary> </indexterm> <indexterm> <primary>Ordering</primary><secondary>role</secondary> </indexterm> <indexterm> <primary>role</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "In the following example <literal>B</literal>'s master must be located on the same node as <literal>A</literal>'s master. Additionally resources <literal>C</literal> and <literal>D</literal> must be located on the same node as <literal>A</literal>'s and <literal>B</literal>'s masters."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Colocate C and D with A’s and B’s master instances"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "&lt;constraints&gt;\n"
"    &lt;rsc_colocation id=\"coloc-1\" score=\"INFINITY\" &gt;\n"
"      &lt;resource_set id=\"colocated-set-example-1\" sequential=\"true\" role=\"Master\"&gt;\n"
"        &lt;resource_ref id=\"A\"/&gt;\n"
"        &lt;resource_ref id=\"B\"/&gt;\n"
"      &lt;/resource_set&gt;\n"
"      &lt;resource_set id=\"colocated-set-example-2\" sequential=\"true\"&gt;\n"
"        &lt;resource_ref id=\"C\"/&gt;\n"
"        &lt;resource_ref id=\"D\"/&gt;\n"
"      &lt;/resource_set&gt;\n"
"    &lt;/rsc_colocation&gt;\n"
"&lt;/constraints&gt;"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Using Promotable Clone Resources in Ordered Sets"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Additional ordered set options relevant to promotable clone resources"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>action</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "value of <literal>first-action</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "An additional attribute of ordering constraint sets that specifies the action that applies to <emphasis>all members</emphasis> of the set. Allowed values: <literal>start</literal>, <literal>stop</literal>, <literal>promote</literal>, <literal>demote</literal>. <indexterm> <primary>action</primary><secondary>Ordering Constraints</secondary> </indexterm> <indexterm> <primary>Ordering Constraints</primary> </indexterm> <indexterm> <primary>Constraints</primary><secondary>Ordering</secondary><tertiary>action</tertiary> </indexterm> <indexterm> <primary>Ordering</primary><secondary>action</secondary> </indexterm> <indexterm> <primary>action</primary> </indexterm>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Start C and D after first promoting A and B"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "&lt;constraints&gt;\n"
"    &lt;rsc_order id=\"order-1\" score=\"INFINITY\" &gt;\n"
"      &lt;resource_set id=\"ordered-set-1\" sequential=\"true\" action=\"promote\"&gt;\n"
"        &lt;resource_ref id=\"A\"/&gt;\n"
"        &lt;resource_ref id=\"B\"/&gt;\n"
"      &lt;/resource_set&gt;\n"
"      &lt;resource_set id=\"ordered-set-2\" sequential=\"true\" action=\"start\"&gt;\n"
"        &lt;resource_ref id=\"C\"/&gt;\n"
"        &lt;resource_ref id=\"D\"/&gt;\n"
"      &lt;/resource_set&gt;\n"
"    &lt;/rsc_order&gt;\n"
"&lt;/constraints&gt;"
msgstr ""

#. Tag: para
#, no-c-format
msgid "In the above example, <literal>B</literal> cannot be promoted to a master role until <literal>A</literal> has been promoted. Additionally, resources <literal>C</literal> and <literal>D</literal> must wait until <literal>A</literal> and <literal>B</literal> have been promoted before they can start."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Clone Stickiness"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<indexterm> <primary>resource-stickiness</primary><secondary>Clones</secondary> </indexterm> <indexterm> <primary>Clones</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "To achieve a stable allocation pattern, clones are slightly sticky by default. If no value for <literal>resource-stickiness</literal> is provided, the clone will use a value of 1. Being a small value, it causes minimal disturbance to the score calculations of other resources but is enough to prevent Pacemaker from needlessly moving copies around the cluster."
msgstr ""

#. Tag: para
#, no-c-format
msgid "For globally unique clones, this may result in multiple instances of the clone staying on a single node, even after another eligible node becomes active (for example, after being put into standby mode then made active again). If you do not want this behavior, specify a <literal>resource-stickiness</literal> of 0 for the clone temporarily and let the cluster adjust, then set it back to 1 if you want the default behavior to apply again."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Clone Resource Agent Requirements"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Any resource can be used as an anonymous clone, as it requires no additional support from the resource agent. Whether it makes sense to do so depends on your resource and its resource agent."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Resource Agent Requirements for Globally Unique Clones"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Globally unique clones require additional support in the resource agent. In particular, it must only respond with <literal>${OCF_SUCCESS}</literal> if the node has that exact instance active. All other probes for instances of the clone should result in <literal>${OCF_NOT_RUNNING}</literal> (or one of the other OCF error codes if they are failed)."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Individual instances of a clone are identified by appending a colon and a numerical offset, e.g. <literal>apache:2</literal>."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resource agents can find out how many copies there are by examining the <literal>OCF_RESKEY_CRM_meta_clone_max</literal> environment variable and which instance it is by examining <literal>OCF_RESKEY_CRM_meta_clone</literal>."
msgstr ""

#. Tag: para
#, no-c-format
msgid "The resource agent must not make any assumptions (based on <literal>OCF_RESKEY_CRM_meta_clone</literal>) about which numerical instances are active. In particular, the list of active copies will not always be an unbroken sequence, nor always start at 0."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Resource Agent Requirements for Promotable Clones"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Promotable clone resources require two extra actions, <literal>demote</literal> and <literal>promote</literal>, which are responsible for changing the state of the resource. Like <literal>start</literal> and <literal>stop</literal>, they should return <literal>${OCF_SUCCESS}</literal> if they completed successfully or a relevant error code if they did not."
msgstr ""

#. Tag: para
#, no-c-format
msgid "The states can mean whatever you wish, but when the resource is started, it must come up in the mode called <literal>slave</literal>. From there the cluster will decide which instances to promote to <literal>master</literal>."
msgstr ""

#. Tag: para
#, no-c-format
msgid "In addition to the clone requirements for monitor actions, agents must also <emphasis>accurately</emphasis> report which state they are in. The cluster relies on the agent to report its status (including role) accurately and does not indicate to the agent what role it currently believes it to be in."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Role implications of OCF return codes"
msgstr ""

#. Tag: entry
#, no-c-format
msgid "Monitor Return Code"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_NOT_RUNNING"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Stopped <indexterm> <primary>Return Code</primary><secondary>OCF_NOT_RUNNING</secondary> </indexterm> <indexterm> <primary>OCF_NOT_RUNNING</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_SUCCESS"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Running (Slave) <indexterm> <primary>Return Code</primary><secondary>OCF_SUCCESS</secondary> </indexterm> <indexterm> <primary>OCF_SUCCESS</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_RUNNING_MASTER"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Running (Master) <indexterm> <primary>Return Code</primary><secondary>OCF_RUNNING_MASTER</secondary> </indexterm> <indexterm> <primary>OCF_RUNNING_MASTER</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_FAILED_MASTER"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Failed (Master) <indexterm> <primary>Return Code</primary><secondary>OCF_FAILED_MASTER</secondary> </indexterm> <indexterm> <primary>OCF_FAILED_MASTER</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Other"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Failed (Slave)"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Clone Notifications"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If the clone has the <literal>notify</literal> meta-attribute set to <literal>true</literal>, and the resource agent supports the <literal>notify</literal> action, Pacemaker will call the action when appropriate, passing a number of extra variables which, when combined with additional context, can be used to calculate the current state of the cluster and what is about to happen to it."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Environment variables supplied with Clone notify actions"
msgstr ""

#. Tag: entry
#, no-c-format
msgid "Variable"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_RESKEY_CRM_meta_notify_type"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Allowed values: <literal>pre</literal>, <literal>post</literal> <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>type</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>type</secondary> </indexterm> <indexterm> <primary>type</primary> </indexterm> <indexterm> <primary>type</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_RESKEY_CRM_meta_notify_operation"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Allowed values: <literal>start</literal>, <literal>stop</literal> <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>operation</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>operation</secondary> </indexterm> <indexterm> <primary>operation</primary> </indexterm> <indexterm> <primary>operation</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_RESKEY_CRM_meta_notify_start_resource"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources to be started <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>start_resource</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>start_resource</secondary> </indexterm> <indexterm> <primary>start_resource</primary> </indexterm> <indexterm> <primary>start_resource</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_RESKEY_CRM_meta_notify_stop_resource"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources to be stopped <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>stop_resource</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>stop_resource</secondary> </indexterm> <indexterm> <primary>stop_resource</primary> </indexterm> <indexterm> <primary>stop_resource</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_RESKEY_CRM_meta_notify_active_resource"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources that are running <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>active_resource</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>active_resource</secondary> </indexterm> <indexterm> <primary>active_resource</primary> </indexterm> <indexterm> <primary>active_resource</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_RESKEY_CRM_meta_notify_inactive_resource"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources that are not running <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>inactive_resource</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>inactive_resource</secondary> </indexterm> <indexterm> <primary>inactive_resource</primary> </indexterm> <indexterm> <primary>inactive_resource</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_RESKEY_CRM_meta_notify_start_uname"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Nodes on which resources will be started <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>start_uname</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>start_uname</secondary> </indexterm> <indexterm> <primary>start_uname</primary> </indexterm> <indexterm> <primary>start_uname</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_RESKEY_CRM_meta_notify_stop_uname"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Nodes on which resources will be stopped <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>stop_uname</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>stop_uname</secondary> </indexterm> <indexterm> <primary>stop_uname</primary> </indexterm> <indexterm> <primary>stop_uname</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "OCF_RESKEY_CRM_meta_notify_active_uname"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Nodes on which resources are running <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>active_uname</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>active_uname</secondary> </indexterm> <indexterm> <primary>active_uname</primary> </indexterm> <indexterm> <primary>active_uname</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "The variables come in pairs, such as <literal>OCF_RESKEY_CRM_meta_notify_start_resource</literal> and <literal>OCF_RESKEY_CRM_meta_notify_start_uname</literal> and should be treated as an array of whitespace-separated elements."
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>OCF_RESKEY_CRM_meta_notify_inactive_resource</literal> is an exception as the matching <literal>uname</literal> variable does not exist since inactive resources are not running on any node."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Thus in order to indicate that <literal>clone:0</literal> will be started on <literal>sles-1</literal>, <literal>clone:2</literal> will be started on <literal>sles-3</literal>, and <literal>clone:3</literal> will be started on <literal>sles-2</literal>, the cluster would set"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Notification variables"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "OCF_RESKEY_CRM_meta_notify_start_resource=\"clone:0 clone:2 clone:3\"\n"
"OCF_RESKEY_CRM_meta_notify_start_uname=\"sles-1 sles-3 sles-2\""
msgstr ""

#. Tag: title
#, no-c-format
msgid "Interpretation of Notification Variables"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Pre-notification (stop):"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Active resources: <literal>$OCF_RESKEY_CRM_meta_notify_active_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Inactive resources: <literal>$OCF_RESKEY_CRM_meta_notify_inactive_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources to be started: <literal>$OCF_RESKEY_CRM_meta_notify_start_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources to be stopped: <literal>$OCF_RESKEY_CRM_meta_notify_stop_resource</literal>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Post-notification (stop) / Pre-notification (start):"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Active resources"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>$OCF_RESKEY_CRM_meta_notify_active_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "minus <literal>$OCF_RESKEY_CRM_meta_notify_stop_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Inactive resources"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>$OCF_RESKEY_CRM_meta_notify_inactive_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "plus <literal>$OCF_RESKEY_CRM_meta_notify_stop_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources that were started: <literal>$OCF_RESKEY_CRM_meta_notify_start_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources that were stopped: <literal>$OCF_RESKEY_CRM_meta_notify_stop_resource</literal>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Post-notification (start):"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Active resources:"
msgstr ""

#. Tag: para
#, no-c-format
msgid "plus <literal>$OCF_RESKEY_CRM_meta_notify_start_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Inactive resources:"
msgstr ""

#. Tag: para
#, no-c-format
msgid "minus <literal>$OCF_RESKEY_CRM_meta_notify_start_resource</literal>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Extra Notifications for Promotable Clones"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Extra environment variables supplied for promotable clones"
msgstr ""

#. Tag: entry
#, no-c-format
msgid "<emphasis>OCF_RESKEY_CRM_meta_notify_master_resource</emphasis>"
msgstr ""

#. Tag: entry
#, no-c-format
msgid "Resources that are running in <literal>Master</literal> mode <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>master_resource</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>master_resource</secondary> </indexterm> <indexterm> <primary>master_resource</primary> </indexterm> <indexterm> <primary>master_resource</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<emphasis>OCF_RESKEY_CRM_meta_notify_slave_resource</emphasis>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources that are running in <literal>Slave</literal> mode <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>slave_resource</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>slave_resource</secondary> </indexterm> <indexterm> <primary>slave_resource</primary> </indexterm> <indexterm> <primary>slave_resource</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<emphasis>OCF_RESKEY_CRM_meta_notify_promote_resource</emphasis>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources to be promoted <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>promote_resource</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>promote_resource</secondary> </indexterm> <indexterm> <primary>promote_resource</primary> </indexterm> <indexterm> <primary>promote_resource</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<emphasis>OCF_RESKEY_CRM_meta_notify_demote_resource</emphasis>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources to be demoted <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>demote_resource</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>demote_resource</secondary> </indexterm> <indexterm> <primary>demote_resource</primary> </indexterm> <indexterm> <primary>demote_resource</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<emphasis>OCF_RESKEY_CRM_meta_notify_promote_uname</emphasis>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Nodes on which resources will be promoted <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>promote_uname</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>promote_uname</secondary> </indexterm> <indexterm> <primary>promote_uname</primary> </indexterm> <indexterm> <primary>promote_uname</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<emphasis>OCF_RESKEY_CRM_meta_notify_demote_uname</emphasis>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Nodes on which resources will be demoted <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>demote_uname</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>demote_uname</secondary> </indexterm> <indexterm> <primary>demote_uname</primary> </indexterm> <indexterm> <primary>demote_uname</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<emphasis>OCF_RESKEY_CRM_meta_notify_master_uname</emphasis>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Nodes on which resources are running in <literal>Master</literal> mode <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>master_uname</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>master_uname</secondary> </indexterm> <indexterm> <primary>master_uname</primary> </indexterm> <indexterm> <primary>master_uname</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<emphasis>OCF_RESKEY_CRM_meta_notify_slave_uname</emphasis>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Nodes on which resources are running in <literal>Slave</literal> mode <indexterm> <primary>Environment Variable</primary><secondary>OCF_RESKEY_CRM_meta_notify_</secondary><tertiary>slave_uname</tertiary> </indexterm> <indexterm> <primary>OCF_RESKEY_CRM_meta_notify_</primary><secondary>slave_uname</secondary> </indexterm> <indexterm> <primary>slave_uname</primary> </indexterm> <indexterm> <primary>slave_uname</primary><secondary>Notification Environment Variable</secondary> </indexterm> <indexterm> <primary>Notification Environment Variable</primary> </indexterm>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Interpretation of Promotable Notification Variables"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Pre-notification (demote):"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>Active</literal> resources: <literal>$OCF_RESKEY_CRM_meta_notify_active_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>Master</literal> resources: <literal>$OCF_RESKEY_CRM_meta_notify_master_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>Slave</literal> resources: <literal>$OCF_RESKEY_CRM_meta_notify_slave_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources to be promoted: <literal>$OCF_RESKEY_CRM_meta_notify_promote_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources to be demoted: <literal>$OCF_RESKEY_CRM_meta_notify_demote_resource</literal>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Post-notification (demote) / Pre-notification (stop):"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>Master</literal> resources:"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>$OCF_RESKEY_CRM_meta_notify_master_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "minus <literal>$OCF_RESKEY_CRM_meta_notify_demote_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources that were demoted: <literal>$OCF_RESKEY_CRM_meta_notify_demote_resource</literal>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Post-notification (stop) / Pre-notification (start)"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>Active</literal> resources:"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>Slave</literal> resources:"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>$OCF_RESKEY_CRM_meta_notify_slave_resource</literal>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Post-notification (start) / Pre-notification (promote)"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Post-notification (promote)"
msgstr ""

#. Tag: para
#, no-c-format
msgid "plus <literal>$OCF_RESKEY_CRM_meta_notify_promote_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "minus <literal>$OCF_RESKEY_CRM_meta_notify_promote_resource</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Resources that were promoted: <literal>$OCF_RESKEY_CRM_meta_notify_promote_resource</literal>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Monitoring Promotable Clone Resources"
msgstr ""

#. Tag: para
#, no-c-format
msgid "The usual monitor actions are insufficient to monitor a promotable clone resource, because Pacemaker needs to verify not only that the resource is active, but also that its actual role matches its intended one."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Define two monitoring actions: the usual one will cover the slave role, and an additional one with <literal>role=\"master\"</literal> will cover the master role."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Monitoring both states of a promotable clone resource"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "&lt;clone id=\"myMasterRsc\"&gt;\n"
"   &lt;meta_attributes id=\"myMasterRsc-meta\"&gt;\n"
"       &lt;nvpair name=\"promotable\" value=\"true\"/&gt;\n"
"   &lt;/meta_attributes&gt;\n"
"   &lt;primitive id=\"myRsc\" class=\"ocf\" type=\"myApp\" provider=\"myCorp\"&gt;\n"
"    &lt;operations&gt;\n"
"     &lt;op id=\"public-ip-slave-check\" name=\"monitor\" interval=\"60\"/&gt;\n"
"     &lt;op id=\"public-ip-master-check\" name=\"monitor\" interval=\"61\" role=\"Master\"/&gt;\n"
"    &lt;/operations&gt;\n"
"   &lt;/primitive&gt;\n"
"&lt;/clone&gt;"
msgstr ""

#. Tag: para
#, no-c-format
msgid "It is crucial that <emphasis>every</emphasis> monitor operation has a different interval! Pacemaker currently differentiates between operations only by resource and interval; so if (for example) a promotable clone resource had the same monitor interval for both roles, Pacemaker would ignore the role when checking the status — which would cause unexpected return codes, and therefore unnecessary complications."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Determining Which Instance is Promoted"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Pacemaker can choose a promotable clone instance to be promoted in one of two ways:"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Promotion scores: These are node attributes set via the <literal>crm_master</literal> utility, which generally would be called by the resource agent’s start action if it supports promotable clones. This tool automatically detects both the resource and host, and should be used to set a preference for being promoted. Based on this, <literal>promoted-max</literal>, and <literal>promoted-node-max</literal>, the instance(s) with the highest preference will be promoted."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Constraints: Location constraints can indicate which nodes are most preferred as masters."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Explicitly preferring node1 to be promoted to master"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "&lt;rsc_location id=\"master-location\" rsc=\"myMasterRsc\"&gt;\n"
"    &lt;rule id=\"master-rule\" score=\"100\" role=\"Master\"&gt;\n"
"      &lt;expression id=\"master-exp\" attribute=\"#uname\" operation=\"eq\" value=\"node1\"/&gt;\n"
"    &lt;/rule&gt;\n"
"&lt;/rsc_location&gt;"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Bundles - Isolated Environments"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<indexterm> <primary>bundle</primary> </indexterm> <indexterm> <primary>Resource</primary><secondary>bundle</secondary> </indexterm> <indexterm> <primary>bundle</primary> </indexterm> <indexterm> <primary>Docker</primary><secondary>bundle</secondary> </indexterm> <indexterm> <primary>bundle</primary> </indexterm> <indexterm> <primary>rkt</primary><secondary>bundle</secondary> </indexterm> <indexterm> <primary>bundle</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Pacemaker supports a special syntax for launching a <ulink url=\"https://en.wikipedia.org/wiki/Operating-system-level_virtualization\">container</ulink> with any infrastructure it requires: the <emphasis>bundle</emphasis>."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Pacemaker bundles support <ulink url=\"https://www.docker.com/\">Docker</ulink> and <ulink url=\"https://coreos.com/rkt/\">rkt</ulink> container technologies. <footnote><para>Docker is a trademark of Docker, Inc. No endorsement by or association with Docker, Inc. is implied.</para></footnote>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "A bundle for a containerized web server"
msgstr ""

#. Tag: programlisting
#, no-c-format
msgid "&lt;bundle id=\"httpd-bundle\"&gt;\n"
"   &lt;docker image=\"pcmk:http\" replicas=\"3\"/&gt;\n"
"   &lt;network ip-range-start=\"192.168.122.131\"\n"
"            host-netmask=\"24\"\n"
"            host-interface=\"eth0\"&gt;\n"
"      &lt;port-mapping id=\"httpd-port\" port=\"80\"/&gt;\n"
"   &lt;/network&gt;\n"
"   &lt;storage&gt;\n"
"      &lt;storage-mapping id=\"httpd-syslog\"\n"
"                       source-dir=\"/dev/log\"\n"
"                       target-dir=\"/dev/log\"\n"
"                       options=\"rw\"/&gt;\n"
"      &lt;storage-mapping id=\"httpd-root\"\n"
"                       source-dir=\"/srv/html\"\n"
"                       target-dir=\"/var/www/html\"\n"
"                       options=\"rw\"/&gt;\n"
"      &lt;storage-mapping id=\"httpd-logs\"\n"
"                       source-dir-root=\"/var/log/pacemaker/bundles\"\n"
"                       target-dir=\"/etc/httpd/logs\"\n"
"                       options=\"rw\"/&gt;\n"
"   &lt;/storage&gt;\n"
"   &lt;primitive class=\"ocf\" id=\"httpd\" provider=\"heartbeat\" type=\"apache\"/&gt;\n"
"&lt;/bundle&gt;"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Bundle Properties"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Properties of a Bundle"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A unique name for the bundle (required) <indexterm> <primary>id</primary><secondary>bundle</secondary> </indexterm> <indexterm> <primary>bundle</primary> </indexterm> <indexterm> <primary>bundle</primary><secondary>Property</secondary><tertiary>id</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>id</secondary> </indexterm> <indexterm> <primary>id</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>description</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Arbitrary text (not used by Pacemaker) <indexterm> <primary>description</primary><secondary>bundle</secondary> </indexterm> <indexterm> <primary>bundle</primary> </indexterm> <indexterm> <primary>bundle</primary><secondary>Property</secondary><tertiary>description</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>description</secondary> </indexterm> <indexterm> <primary>description</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A bundle must contain exactly one <literal>&lt;docker&gt;</literal> or <literal>&lt;rkt&gt;</literal> element."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Docker Properties"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Before configuring a Docker bundle in Pacemaker, the user must install Docker and supply a fully configured Docker image on every node allowed to run the bundle."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Pacemaker will create an implicit <literal>ocf:heartbeat:docker</literal> resource to manage a bundle’s Docker container. The user must ensure that resource agent is installed on every node allowed to run the bundle."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Properties of a Bundle’s Docker Element"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>image</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Docker image tag (required) <indexterm> <primary>image</primary><secondary>Docker</secondary> </indexterm> <indexterm> <primary>Docker</primary> </indexterm> <indexterm> <primary>Docker</primary><secondary>Property</secondary><tertiary>image</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>image</secondary> </indexterm> <indexterm> <primary>image</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>replicas</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Value of <literal>promoted-max</literal> if that is positive, else 1"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A positive integer specifying the number of container instances to launch <indexterm> <primary>replicas</primary><secondary>Docker</secondary> </indexterm> <indexterm> <primary>Docker</primary> </indexterm> <indexterm> <primary>Docker</primary><secondary>Property</secondary><tertiary>replicas</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>replicas</secondary> </indexterm> <indexterm> <primary>replicas</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>replicas-per-host</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A positive integer specifying the number of container instances allowed to run on a single node <indexterm> <primary>replicas-per-host</primary><secondary>Docker</secondary> </indexterm> <indexterm> <primary>Docker</primary> </indexterm> <indexterm> <primary>Docker</primary><secondary>Property</secondary><tertiary>replicas-per-host</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>replicas-per-host</secondary> </indexterm> <indexterm> <primary>replicas-per-host</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A non-negative integer that, if positive, indicates that the containerized service should be treated as a promotable service, with this many replicas allowed to run the service in the master role <indexterm> <primary>promoted-max</primary><secondary>Docker</secondary> </indexterm> <indexterm> <primary>Docker</primary> </indexterm> <indexterm> <primary>Docker</primary><secondary>Property</secondary><tertiary>promoted-max</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>promoted-max</secondary> </indexterm> <indexterm> <primary>promoted-max</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>network</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If specified, this will be passed to <literal>docker run</literal> as the <ulink url=\"https://docs.docker.com/engine/reference/run/#network-settings\">network setting</ulink> for the Docker container. <indexterm> <primary>network</primary><secondary>Docker</secondary> </indexterm> <indexterm> <primary>Docker</primary> </indexterm> <indexterm> <primary>Docker</primary><secondary>Property</secondary><tertiary>network</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>network</secondary> </indexterm> <indexterm> <primary>network</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>run-command</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>/usr/sbin/pacemaker-remoted</literal> if bundle contains a <literal>primitive</literal>, otherwise none"
msgstr ""

#. Tag: para
#, no-c-format
msgid "This command will be run inside the container when launching it (\"PID 1\"). If the bundle contains a <literal>primitive</literal>, this command <emphasis>must</emphasis> start pacemaker-remoted (but could, for example, be a script that does other stuff, too). If the container image has a pre-2.0.0 version of Pacemaker, set this to <literal>/usr/sbin/pacemaker_remoted</literal> (note the underbar instead of dash). <indexterm> <primary>run-command</primary><secondary>Docker</secondary> </indexterm> <indexterm> <primary>Docker</primary> </indexterm> <indexterm> <primary>Docker</primary><secondary>Property</secondary><tertiary>run-command</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>run-command</secondary> </indexterm> <indexterm> <primary>run-command</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>options</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Extra command-line options to pass to <literal>docker run</literal> <indexterm> <primary>options</primary><secondary>Docker</secondary> </indexterm> <indexterm> <primary>Docker</primary> </indexterm> <indexterm> <primary>Docker</primary><secondary>Property</secondary><tertiary>options</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>options</secondary> </indexterm> <indexterm> <primary>options</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "For backward compatibility, <literal>masters</literal> is accepted as an alias for <literal>promoted-max</literal>, but is deprecated since 2.0.0, and support for it will be removed in a future version."
msgstr ""

#. Tag: title
#, no-c-format
msgid "rkt Properties"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Before configuring a rkt bundle in Pacemaker, the user must install rkt and supply a fully configured container image on every node allowed to run the bundle."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Pacemaker will create an implicit <literal>ocf:heartbeat:rkt</literal> resource to manage a bundle’s rkt container. The user must ensure that resource agent is installed on every node allowed to run the bundle."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Properties of a Bundle’s rkt Element"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Container image tag (required) <indexterm> <primary>image</primary><secondary>rkt</secondary> </indexterm> <indexterm> <primary>rkt</primary> </indexterm> <indexterm> <primary>rkt</primary><secondary>Property</secondary><tertiary>image</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>image</secondary> </indexterm> <indexterm> <primary>image</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A positive integer specifying the number of container instances to launch <indexterm> <primary>replicas</primary><secondary>rkt</secondary> </indexterm> <indexterm> <primary>rkt</primary> </indexterm> <indexterm> <primary>rkt</primary><secondary>Property</secondary><tertiary>replicas</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>replicas</secondary> </indexterm> <indexterm> <primary>replicas</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A positive integer specifying the number of container instances allowed to run on a single node <indexterm> <primary>replicas-per-host</primary><secondary>rkt</secondary> </indexterm> <indexterm> <primary>rkt</primary> </indexterm> <indexterm> <primary>rkt</primary><secondary>Property</secondary><tertiary>replicas-per-host</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>replicas-per-host</secondary> </indexterm> <indexterm> <primary>replicas-per-host</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A non-negative integer that, if positive, indicates that the containerized service should be treated as a promotable service, with this many replicas allowed to run the service in the master role <indexterm> <primary>promoted-max</primary><secondary>rkt</secondary> </indexterm> <indexterm> <primary>rkt</primary> </indexterm> <indexterm> <primary>rkt</primary><secondary>Property</secondary><tertiary>promoted-max</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>promoted-max</secondary> </indexterm> <indexterm> <primary>promoted-max</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If specified, this will be passed to <literal>rkt run</literal> as the network setting for the rkt container. <indexterm> <primary>network</primary><secondary>rkt</secondary> </indexterm> <indexterm> <primary>rkt</primary> </indexterm> <indexterm> <primary>rkt</primary><secondary>Property</secondary><tertiary>network</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>network</secondary> </indexterm> <indexterm> <primary>network</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "This command will be run inside the container when launching it (\"PID 1\"). If the bundle contains a <literal>primitive</literal>, this command <emphasis>must</emphasis> start pacemaker-remoted (but could, for example, be a script that does other stuff, too). If the container image has a pre-2.0.0 version of Pacemaker, set this to <literal>/usr/sbin/pacemaker_remoted</literal> (note the underbar instead of dash). <indexterm> <primary>run-command</primary><secondary>rkt</secondary> </indexterm> <indexterm> <primary>rkt</primary> </indexterm> <indexterm> <primary>rkt</primary><secondary>Property</secondary><tertiary>run-command</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>run-command</secondary> </indexterm> <indexterm> <primary>run-command</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Extra command-line options to pass to <literal>rkt run</literal> <indexterm> <primary>options</primary><secondary>rkt</secondary> </indexterm> <indexterm> <primary>rkt</primary> </indexterm> <indexterm> <primary>rkt</primary><secondary>Property</secondary><tertiary>options</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>options</secondary> </indexterm> <indexterm> <primary>options</primary> </indexterm>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Bundle Network Properties"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A bundle may optionally contain one <literal>&lt;network&gt;</literal> element. <indexterm> <primary>bundle</primary><secondary>network</secondary> </indexterm> <indexterm> <primary>network</primary> </indexterm>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Properties of a Bundle’s Network Element"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>add-host</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "TRUE"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If TRUE, and <literal>ip-range-start</literal> is used, Pacemaker will automatically ensure that <literal>/etc/hosts</literal> inside the containers has entries for each <link linkend=\"s-resource-bundle-note-replica-names\">replica name</link> and its assigned IP. <indexterm> <primary>add-host</primary><secondary>network</secondary> </indexterm> <indexterm> <primary>network</primary> </indexterm> <indexterm> <primary>network</primary><secondary>Property</secondary><tertiary>add-host</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>add-host</secondary> </indexterm> <indexterm> <primary>add-host</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>ip-range-start</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If specified, Pacemaker will create an implicit <literal>ocf:heartbeat:IPaddr2</literal> resource for each container instance, starting with this IP address, using up to <literal>replicas</literal> sequential addresses. These addresses can be used from the host’s network to reach the service inside the container, though it is not visible within the container itself. Only IPv4 addresses are currently supported. <indexterm> <primary>ip-range-start</primary><secondary>network</secondary> </indexterm> <indexterm> <primary>network</primary> </indexterm> <indexterm> <primary>network</primary><secondary>Property</secondary><tertiary>ip-range-start</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>ip-range-start</secondary> </indexterm> <indexterm> <primary>ip-range-start</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>host-netmask</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "32"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If <literal>ip-range-start</literal> is specified, the IP addresses are created with this CIDR netmask (as a number of bits). <indexterm> <primary>host-netmask</primary><secondary>network</secondary> </indexterm> <indexterm> <primary>network</primary> </indexterm> <indexterm> <primary>network</primary><secondary>Property</secondary><tertiary>host-netmask</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>host-netmask</secondary> </indexterm> <indexterm> <primary>host-netmask</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>host-interface</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If <literal>ip-range-start</literal> is specified, the IP addresses are created on this host interface (by default, it will be determined from the IP address). <indexterm> <primary>host-interface</primary><secondary>network</secondary> </indexterm> <indexterm> <primary>network</primary> </indexterm> <indexterm> <primary>network</primary><secondary>Property</secondary><tertiary>host-interface</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>host-interface</secondary> </indexterm> <indexterm> <primary>host-interface</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>control-port</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "3121"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If the bundle contains a <literal>primitive</literal>, the cluster will use this integer TCP port for communication with Pacemaker Remote inside the container. Changing this is useful when the container is unable to listen on the default port, for example, when the container uses the host’s network rather than <literal>ip-range-start</literal> (in which case <literal>replicas-per-host</literal> must be 1), or when the bundle may run on a Pacemaker Remote node that is already listening on the default port. Any PCMK_remote_port environment variable set on the host or in the container is ignored for bundle connections. <indexterm> <primary>control-port</primary><secondary>network</secondary> </indexterm> <indexterm> <primary>network</primary> </indexterm> <indexterm> <primary>network</primary><secondary>Property</secondary><tertiary>control-port</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>control-port</secondary> </indexterm> <indexterm> <primary>control-port</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Replicas are named by the bundle id plus a dash and an integer counter starting with zero. For example, if a bundle named <literal>httpd-bundle</literal> has <literal>replicas=2</literal>, its containers will be named <literal>httpd-bundle-0</literal> and <literal>httpd-bundle-1</literal>."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Additionally, a <literal>&lt;network&gt;</literal> element may optionally contain one or more <literal>&lt;port-mapping&gt;</literal> elements. <indexterm> <primary>bundle</primary><secondary>network</secondary><tertiary>port-mapping</tertiary> </indexterm> <indexterm> <primary>network</primary><secondary>port-mapping</secondary> </indexterm> <indexterm> <primary>port-mapping</primary> </indexterm>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Properties of a Bundle’s Port-Mapping Element"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A unique name for the port mapping (required) <indexterm> <primary>id</primary><secondary>port-mapping</secondary> </indexterm> <indexterm> <primary>port-mapping</primary> </indexterm> <indexterm> <primary>port-mapping</primary><secondary>Property</secondary><tertiary>id</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>id</secondary> </indexterm> <indexterm> <primary>id</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>port</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If this is specified, connections to this TCP port number on the host network (on the container’s assigned IP address, if <literal>ip-range-start</literal> is specified) will be forwarded to the container network. Exactly one of <literal>port</literal> or <literal>range</literal> must be specified in a <literal>port-mapping</literal>. <indexterm> <primary>port</primary><secondary>port-mapping</secondary> </indexterm> <indexterm> <primary>port-mapping</primary> </indexterm> <indexterm> <primary>port-mapping</primary><secondary>Property</secondary><tertiary>port</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>port</secondary> </indexterm> <indexterm> <primary>port</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>internal-port</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "value of <literal>port</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If <literal>port</literal> and this are specified, connections to <literal>port</literal> on the host’s network will be forwarded to this port on the container network. <indexterm> <primary>internal-port</primary><secondary>port-mapping</secondary> </indexterm> <indexterm> <primary>port-mapping</primary> </indexterm> <indexterm> <primary>port-mapping</primary><secondary>Property</secondary><tertiary>internal-port</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>internal-port</secondary> </indexterm> <indexterm> <primary>internal-port</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>range</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If this is specified, connections to these TCP port numbers (expressed as <emphasis>first_port</emphasis>-<emphasis>last_port</emphasis>) on the host network (on the container’s assigned IP address, if <literal>ip-range-start</literal> is specified) will be forwarded to the same ports in the container network. Exactly one of <literal>port</literal> or <literal>range</literal> must be specified in a <literal>port-mapping</literal>. <indexterm> <primary>range</primary><secondary>port-mapping</secondary> </indexterm> <indexterm> <primary>port-mapping</primary> </indexterm> <indexterm> <primary>port-mapping</primary><secondary>Property</secondary><tertiary>range</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>range</secondary> </indexterm> <indexterm> <primary>range</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If the bundle contains a <literal>primitive</literal>, Pacemaker will automatically map the <literal>control-port</literal>, so it is not necessary to specify that port in a <literal>port-mapping</literal>."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Bundle Storage Properties"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A bundle may optionally contain one <literal>&lt;storage&gt;</literal> element. A <literal>&lt;storage&gt;</literal> element has no properties of its own, but may contain one or more <literal>&lt;storage-mapping&gt;</literal> elements. <indexterm> <primary>bundle</primary><secondary>storage</secondary><tertiary>storage-mapping</tertiary> </indexterm> <indexterm> <primary>storage</primary><secondary>storage-mapping</secondary> </indexterm> <indexterm> <primary>storage-mapping</primary> </indexterm>"
msgstr ""

#. Tag: title
#, no-c-format
msgid "Properties of a Bundle’s Storage-Mapping Element"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A unique name for the storage mapping (required) <indexterm> <primary>id</primary><secondary>storage-mapping</secondary> </indexterm> <indexterm> <primary>storage-mapping</primary> </indexterm> <indexterm> <primary>storage-mapping</primary><secondary>Property</secondary><tertiary>id</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>id</secondary> </indexterm> <indexterm> <primary>id</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>source-dir</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "The absolute path on the host’s filesystem that will be mapped into the container. Exactly one of <literal>source-dir</literal> and <literal>source-dir-root</literal> must be specified in a <literal>storage-mapping</literal>. <indexterm> <primary>source-dir</primary><secondary>storage-mapping</secondary> </indexterm> <indexterm> <primary>storage-mapping</primary> </indexterm> <indexterm> <primary>storage-mapping</primary><secondary>Property</secondary><tertiary>source-dir</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>source-dir</secondary> </indexterm> <indexterm> <primary>source-dir</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>source-dir-root</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "The start of a path on the host’s filesystem that will be mapped into the container, using a different subdirectory on the host for each container instance. The subdirectory will be named the same as the <link linkend=\"s-resource-bundle-note-replica-names\">replica name</link>. Exactly one of <literal>source-dir</literal> and <literal>source-dir-root</literal> must be specified in a <literal>storage-mapping</literal>. <indexterm> <primary>source-dir-root</primary><secondary>storage-mapping</secondary> </indexterm> <indexterm> <primary>storage-mapping</primary> </indexterm> <indexterm> <primary>storage-mapping</primary><secondary>Property</secondary><tertiary>source-dir-root</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>source-dir-root</secondary> </indexterm> <indexterm> <primary>source-dir-root</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "<literal>target-dir</literal>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "The path name within the container where the host storage will be mapped (required) <indexterm> <primary>target-dir</primary><secondary>storage-mapping</secondary> </indexterm> <indexterm> <primary>storage-mapping</primary> </indexterm> <indexterm> <primary>storage-mapping</primary><secondary>Property</secondary><tertiary>target-dir</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>target-dir</secondary> </indexterm> <indexterm> <primary>target-dir</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "File system mount options to use when mapping the storage <indexterm> <primary>options</primary><secondary>storage-mapping</secondary> </indexterm> <indexterm> <primary>storage-mapping</primary> </indexterm> <indexterm> <primary>storage-mapping</primary><secondary>Property</secondary><tertiary>options</tertiary> </indexterm> <indexterm> <primary>Property</primary><secondary>options</secondary> </indexterm> <indexterm> <primary>options</primary> </indexterm>"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Pacemaker does not define the behavior if the source directory does not already exist on the host. However, it is expected that the container technology and/or its resource agent will create the source directory in that case."
msgstr ""

#. Tag: para
#, no-c-format
msgid "If the bundle contains a <literal>primitive</literal>, Pacemaker will automatically map the equivalent of <literal>source-dir=/etc/pacemaker/authkey target-dir=/etc/pacemaker/authkey</literal> and <literal>source-dir-root=/var/log/pacemaker/bundles target-dir=/var/log</literal> into the container, so it is not necessary to specify those paths in a <literal>storage-mapping</literal>."
msgstr ""

#. Tag: para
#, no-c-format
msgid "The <literal>PCMK_authkey_location</literal> environment variable must not be set to anything other than the default of <literal>/etc/pacemaker/authkey</literal> on any node in the cluster."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Bundle Primitive"
msgstr ""

#. Tag: para
#, no-c-format
msgid "A bundle may optionally contain one <literal>&lt;primitive&gt;</literal> resource (see <xref linkend=\"s-resource-primitive\" />). The primitive may have operations, instance attributes and meta-attributes defined, as usual."
msgstr ""

#. Tag: para
#, no-c-format
msgid "If a bundle contains a primitive resource, the container image must include the Pacemaker Remote daemon, and at least one of <literal>ip-range-start</literal> or <literal>control-port</literal> must be configured in the bundle. Pacemaker will create an implicit <literal>ocf:pacemaker:remote</literal> resource for the connection, launch Pacemaker Remote within the container, and monitor and manage the primitive resource via Pacemaker Remote."
msgstr ""

#. Tag: para
#, no-c-format
msgid "If the bundle has more than one container instance (replica), the primitive resource will function as an implicit clone (see <xref linkend=\"s-resource-clone\" />) — a promotable clone if the bundle has <literal>masters</literal> greater than zero (see <xref linkend=\"s-resource-promotable\" />)."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Containers in bundles with a <literal>primitive</literal> must have an accessible networking environment, so that Pacemaker on the cluster nodes can contact Pacemaker Remote inside the container. For example, the Docker option <literal>--net=none</literal> should not be used with a <literal>primitive</literal>. The default (using a distinct network space inside the container) works in combination with <literal>ip-range-start</literal>. If the Docker option <literal>--net=host</literal> is used (making the container share the host’s network space), a unique <literal>control-port</literal> should be specified for each bundle. Any firewall must allow access to the <literal>control-port</literal>."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Bundle Node Attributes"
msgstr ""

#. Tag: para
#, no-c-format
msgid "If the bundle has a <literal>primitive</literal>, the primitive’s resource agent may want to set node attributes such as <link linkend=\"s-promotion-scores\">promotion scores</link>. However, with containers, it is not apparent which node should get the attribute."
msgstr ""

#. Tag: para
#, no-c-format
msgid "If the container uses shared storage that is the same no matter which node the container is hosted on, then it is appropriate to use the promotion score on the bundle node itself."
msgstr ""

#. Tag: para
#, no-c-format
msgid "On the other hand, if the container uses storage exported from the underlying host, then it may be more appropriate to use the promotion score on the underlying host."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Since this depends on the particular situation, the <literal>container-attribute-target</literal> resource meta-attribute allows the user to specify which approach to use. If it is set to <literal>host</literal>, then user-defined node attributes will be checked on the underlying host. If it is anything else, the local node (in this case the bundle node) is used as usual."
msgstr ""

#. Tag: para
#, no-c-format
msgid "This only applies to user-defined attributes; the cluster will always check the local node for cluster-defined attributes such as <literal>#uname</literal>."
msgstr ""

#. Tag: para
#, no-c-format
msgid "If <literal>container-attribute-target</literal> is <literal>host</literal>, the cluster will pass additional environment variables to the primitive’s resource agent that allow it to set node attributes appropriately: <literal>container_attribute_target</literal> (identical to the meta-attribute value) and <literal>physical_host</literal> (the name of the underlying host)."
msgstr ""

#. Tag: para
#, no-c-format
msgid "It is up to the resource agent to check for the additional variables and use them when setting node attributes."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Bundle Meta-Attributes"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Any meta-attribute set on a bundle will be inherited by the bundle’s primitive and any resources implicitly created by Pacemaker for the bundle."
msgstr ""

#. Tag: para
#, no-c-format
msgid "This includes options such as <literal>priority</literal>, <literal>target-role</literal>, and <literal>is-managed</literal>. See <xref linkend=\"s-resource-options\" /> for more information."
msgstr ""

#. Tag: title
#, no-c-format
msgid "Limitations of Bundles"
msgstr ""

#. Tag: para
#, no-c-format
msgid "Restarting pacemaker while a bundle is unmanaged or the cluster is in maintenance mode may cause the bundle to fail."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Bundles may not be cloned or included in groups. This includes the bundle’s primitive and any resources implicitly created by Pacemaker for the bundle."
msgstr ""

#. Tag: para
#, no-c-format
msgid "Bundles do not have instance attributes, utilization attributes, or operations, though a bundle’s primitive may have them."
msgstr ""

#. Tag: para
#, no-c-format
msgid "A bundle with a primitive can run on a Pacemaker Remote node only if the bundle uses a distinct <literal>control-port</literal>."
msgstr ""

